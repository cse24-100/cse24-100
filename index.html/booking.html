<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Booking Page</title>
  <style>
    /* Base styles (your existing ones) */
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    /* Navbar */
    .navbar-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #000;
      padding: 10px 30px;
      color: white;
      position: relative;
    }

    .navbar-brand {
      font-size: 20px;
      font-weight: bold;
    }

    .navbar-links {
      display: flex;
      gap: 20px;
    }

    .navbar-links a {
      color: white;
      text-decoration: none;
      font-size: 18px;
    }

    .navbar-links a:hover {
      color: #aaa;
    }

    /* Hamburger button - hidden on large */
    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 5px;
    }
    .hamburger div {
      width: 25px;
      height: 3px;
      background-color: white;
    }

    /* Responsive adjustments */
    @media (max-width: 850px) {
      .navbar-container {
        padding: 10px 20px;
      }
      .navbar-links {
        position: absolute;
        top: 60px;
        right: 20px;
        background-color: #000;
        flex-direction: column;
        width: 200px;
        padding: 15px;
        border-radius: 8px;
        display: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.5);
        z-index: 10;
      }
      .navbar-links.show {
        display: flex;
      }
      .navbar-links a {
        margin: 10px 0;
        font-size: 16px;
      }

      .hamburger {
        display: flex;
      }
    }

    @media (max-width: 450px) {
      .navbar-brand {
        font-size: 18px;
      }
      .navbar-links a {
        font-size: 14px;
      }
      h1 {
        font-size: 28px;
      }
      /* Calendar and form adjustments kept as you have */
      /* ... (rest unchanged for brevity) */
    }

    h1 {
      text-align: center;
      margin-top: 40px;
      font-size: 36px;
      color: #333;
    }

    #calendarContainer {
      max-width: 850px;
      margin: 20px auto;
      background-color: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .calendar-header h2 {
      margin: 0;
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      grid-gap: 10px;
      text-align: center;
    }

    .calendar div {
      padding: 15px 10px;
      background-color: #eee;
      border-radius: 6px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.2s;
    }

    .calendar div:hover:not(.disabled) {
      background-color: #ccc;
    }

    .calendar .selected {
      background-color: #333;
      color: white;
      font-weight: bold;
    }

    .calendar .disabled {
      background-color: #f9f9f9;
      color: #bbb;
      cursor: not-allowed;
    }

    #timeslots {
      max-width: 850px;
      margin: 20px auto;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }

    .timeslot {
      padding: 12px 20px;
      background-color: #eee;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s;
      user-select: none;
      font-weight: 600;
      font-size: 16px;
    }

    .timeslot.selected {
      background-color: #333;
      color: white;
    }

    .timeslot.disabled {
      background-color: #ddd;
      color: #999;
      cursor: not-allowed;
    }

    #contactForm {
      max-width: 850px;
      margin: 30px auto 50px;
      background-color: white;
      padding: 30px 40px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    #contactForm label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
    }

    #contactForm input,
    #contactForm textarea,
    #contactForm select {
      width: 100%;
      padding: 12px 10px;
      margin-bottom: 20px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
      resize: vertical;
      font-family: Arial, sans-serif;
    }

    #contactForm textarea {
      min-height: 100px;
    }

    #submitBooking {
      display: block;
      width: 100%;
      background-color: #333;
      color: white;
      border: none;
      padding: 15px;
      font-size: 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: 700;
    }

    #submitBooking:hover {
      background-color: #555;
    }

    #changeTimeBtn {
      margin: 15px auto;
      display: block;
      background-color: #666;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: 600;
    }

    #changeTimeBtn:hover {
      background-color: #444;
    }

    /* Buttons for calendar navigation */
    #nextMonthBtn, #backToTodayBtn {
      background-color: #444;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-left: 10px;
      transition: background-color 0.3s;
    }
    #nextMonthBtn:hover, #backToTodayBtn:hover {
      background-color: #222;
    }
	.footer {
      background-color: #4a4a4a;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <div class="navbar-container">
    <div class="navbar-brand">Botho Hair Boutique</div>
    <div class="hamburger" id="hamburger">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="navbar-links" id="navbarLinks">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="treatment.html">Hair Treatment</a>
      <a href="products.html">Hair Products</a>
      <a href="booking.html">Booking</a>
      <a href="contact.html">Contact</a>
      <a href="feedback.html">Feedback</a>
    </div>
  </div>

  <h1>Book Your Appointment</h1>

  <div id="calendarContainer">
    <div class="calendar-header">
      <div>
        <button id="backToTodayBtn" title="Back to Today">Today</button>
      </div>
      <h2 id="monthYear"></h2>
      <div>
        <button id="nextMonthBtn" title="Next Month">&gt;</button>
      </div>
    </div>
    <div class="calendar" id="calendar">
      <!-- Calendar days will be generated here by JavaScript -->
    </div>
  </div>

  <div id="timeslots">
    <!-- Time slots will be generated here -->
  </div>

  <button id="changeTimeBtn" style="display:none;">Change Time</button>

  <form id="contactForm" style="display:none;">
    <label for="name">Name *</label>
    <input type="text" id="name" name="name" required />

    <label for="email">Email *</label>
    <input type="email" id="email" name="email" required />

    <label for="phone">Phone Number *</label>
    <input type="tel" id="phone" name="phone" required />

    <label for="message">Additional Message</label>
    <textarea id="message" name="message"></textarea>

    <button type="submit" id="submitBooking">Confirm Booking</button>
  </form>
  
<!-- Footer -->
<div class="footer">
  <p>&copy; 2025 Botho Hair Boutique. All rights reserved.</p>
</div>

  <script>
    // Navbar hamburger toggle
    const hamburger = document.getElementById('hamburger');
    const navbarLinks = document.getElementById('navbarLinks');

    hamburger.addEventListener('click', () => {
      navbarLinks.classList.toggle('show');
    });

    // Calendar setup
    const calendarEl = document.getElementById('calendar');
    const monthYearEl = document.getElementById('monthYear');
    const nextMonthBtn = document.getElementById('nextMonthBtn');
    const backToTodayBtn = document.getElementById('backToTodayBtn');
    const timeslotsEl = document.getElementById('timeslots');
    const contactForm = document.getElementById('contactForm');
    const changeTimeBtn = document.getElementById('changeTimeBtn');

    let currentDate = new Date();
    let selectedDate = null;
    let selectedTime = null;

    // Sample booked dates/times (simulate booked slots)
    // Format: 'YYYY-MM-DD HH:mm'
    const bookedSlots = [
      '2025-05-25 09:00',
      '2025-05-25 10:00',
      '2025-05-26 13:00',
      '2025-06-01 11:00',
    ];

    // Generate calendar for the given month
    function renderCalendar(date) {
      calendarEl.innerHTML = '';
      const year = date.getFullYear();
      const month = date.getMonth();

      // Show month and year
      const monthNames = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
      ];
      monthYearEl.textContent = `${monthNames[month]} ${year}`;

      // Days of week headers
      const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      dayNames.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.style.fontWeight = 'bold';
        dayHeader.textContent = day;
        calendarEl.appendChild(dayHeader);
      });

      // First day of month (0=Sun)
      const firstDay = new Date(year, month, 1).getDay();
      // Number of days in month
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      // Fill empty slots before first day
      for (let i = 0; i < firstDay; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.classList.add('disabled');
        calendarEl.appendChild(emptyCell);
      }

      // Create day cells
      for (let day = 1; day <= daysInMonth; day++) {
        const dayCell = document.createElement('div');
        dayCell.textContent = day;

        // Disable past dates (including today before current time)
        const cellDate = new Date(year, month, day);
        const today = new Date();
        today.setHours(0,0,0,0);

        if (cellDate < today) {
          dayCell.classList.add('disabled');
        }

        dayCell.addEventListener('click', () => {
          if (dayCell.classList.contains('disabled')) return;

          selectedDate = cellDate;
          highlightSelectedDate(dayCell);
          renderTimeslots(cellDate);
          contactForm.style.display = 'none';
          changeTimeBtn.style.display = 'none';
        });

        calendarEl.appendChild(dayCell);
      }
    }

    // Highlight selected date on calendar
    function highlightSelectedDate(selectedCell) {
      document.querySelectorAll('#calendar div').forEach(div => div.classList.remove('selected'));
      selectedCell.classList.add('selected');
    }

    // Generate timeslots for the selected date
    function renderTimeslots(date) {
      timeslotsEl.style.display = 'flex';
      timeslotsEl.innerHTML = '';

      // Timeslots from 9:00 AM to 5:00 PM every hour
      const startHour = 9;
      const endHour = 17;

      for (let hour = startHour; hour <= endHour; hour++) {
        const slot = document.createElement('div');
        slot.classList.add('timeslot');

        // Format time string
        const timeString = `${hour.toString().padStart(2,'0')}:00`;

        slot.textContent = timeString;

        // Check if slot is booked
        const dateString = date.toISOString().split('T')[0];
        if (bookedSlots.includes(`${dateString} ${timeString}`)) {
          slot.classList.add('disabled');
        } else {
          // Attach click handler to select time
          slot.addEventListener('click', () => selectTime(slot, timeString));
        }

        timeslotsEl.appendChild(slot);
      }
    }

    function selectTime(slotEl, time) {
      if (slotEl.classList.contains('disabled')) return;

      selectedTime = time;
      // Remove selected class from all timeslots
      document.querySelectorAll('.timeslot').forEach(slot => slot.classList.remove('selected'));
      // Add selected class to clicked slot
      slotEl.classList.add('selected');

      // Show contact form and change time button
      contactForm.style.display = 'block';
      changeTimeBtn.style.display = 'block';
      // Hide timeslots container
      timeslotsEl.style.display = 'none';
    }

    // Change time button click handler
    changeTimeBtn.addEventListener('click', () => {
      selectedTime = null;
      contactForm.style.display = 'none';
      changeTimeBtn.style.display = 'none';
      timeslotsEl.style.display = 'flex';
      // Remove any timeslot selection highlight
      document.querySelectorAll('.timeslot').forEach(slot => slot.classList.remove('selected'));
    });

    // Contact form submit handler
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();

      if (!selectedDate || !selectedTime) {
        alert('Please select a date and time slot before submitting.');
        return;
      }

      const name = contactForm.name.value.trim();
      const email = contactForm.email.value.trim();
      const phone = contactForm.phone.value.trim();
      const message = contactForm.message.value.trim();

      if (!name || !email || !phone) {
        alert('Please fill out all required fields.');
        return;
      }

      // Here you could send data to server via fetch/ajax
      alert(`Booking confirmed for ${name} on ${selectedDate.toDateString()} at ${selectedTime}.\nThank you!`);

      // Reset form and UI for new booking
      contactForm.reset();
      contactForm.style.display = 'none';
      changeTimeBtn.style.display = 'none';
      timeslotsEl.style.display = 'flex';

      // Clear selections
      selectedDate = null;
      selectedTime = null;
      // Clear calendar selection
      document.querySelectorAll('#calendar div').forEach(div => div.classList.remove('selected'));
      // Clear timeslot selection
      document.querySelectorAll('.timeslot').forEach(slot => slot.classList.remove('selected'));
    });

    // Initial render for the current month
    renderCalendar(currentDate);

    // Back to Today button
    backToTodayBtn.addEventListener('click', () => {
      currentDate = new Date();
      renderCalendar(currentDate);
      selectedDate = null;
      selectedTime = null;
      contactForm.style.display = 'none';
      changeTimeBtn.style.display = 'none';
      timeslotsEl.style.display = 'flex';
    });

    // Next Month button (advances calendar by 1 month)
    nextMonthBtn.addEventListener('click', () => {
      currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1);
      renderCalendar(currentDate);
      selectedDate = null;
      selectedTime = null;
      contactForm.style.display = 'none';
      changeTimeBtn.style.display = 'none';
      timeslotsEl.style.display = 'flex';
    });
  </script>
</body>
</html>

